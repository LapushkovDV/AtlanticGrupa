//------------------------------------------------------------------------------
//                                                      (c) Корпорация ГАЛАКТИКА
//------------------------------------------------------------------------------
// Галактика 8.1 - Бухгалтерский контур
// Проверки в Бухконтуре
//------------------------------------------------------------------------------

!-------------------------------------------------------------------------------
#ifndef _BuhCheck_vih_Included
#define _BuhCheck_vih_Included
!-------------------------------------------------------------------------------

#ifdef ComponentVersion
#Component "F_Common"
#end

!-------------------------------------------------------------------------------
#doc
Объект для выполнения различных проверок.
#end
ObjInterface ObjBuhCheck;
  //----------------------------------------------------------------------------
  #doc
  Проверка наличия настройки курсовых разниц для счета, субсчета и аналитики
  И если она есть - выдаст согласно настройке.
  #end
  function CheckTuneDeltaVal
                (     Schet     : tSchet3;
                      SubSchet  : tSubSch
                ) : boolean;             // возвращает True, если настройка есть
  //----------------------------------------------------------------------------
  #doc
  Анализ всевозможных настроек, чтобы выяснить, чем по умолчанию заполнять подразделение.
  #end
  function AnalysisPodrTunes
                ( Visib : word  // Параметры счета для контроля
                ) : word;       // 0 = не заполнять; 1= по сотруднику; 2= из документа
  //----------------------------------------------------------------------------
  #doc
  Проверка ссылки на подразделение согласно настройки
  Fin.Anal.ControlPodr и настройки счета.
  #end
  function CheckPodrByTune
                (     Schet     : tSchet3;
                      SubSchet  : tSubSch;
                      cPodr     : tKodKau;
                      Visib     : word         // Параметры счета для контроля
                ) : boolean;                   // Вернет True если все нормально
  //----------------------------------------------------------------------------
  #doc
  Проверка ссылок валюты и валюты конвертации согласно настройки счета (учет в валюте).
  #end
  function CheckValutByTune (SchetO : tSchet3; SubSchO : tSubSch;
                             SchetK : tSchet3; SubSchK : tSubSch;
                             VisibO,VisibK : word;    // Параметры счета для контроля
                             KodValut : comp;  // Код валюты
                             ConvOb   : word;  // Режим конвертации (направление)
                             ConvVal  : comp   // Код валюты для конвертации
                            ) : boolean;    // возвращает True, если все Ok

  //----------------------------------------------------------------------------
  #doc
  Проверка ведется ли количественный учет на счете/субсчете и возвращает уровень, на котором ведется.
  #end
  function CheckQuantitativeAccounting (_Another   : word; // Параметр счета для контроля
                                        var _Level : word  // Уровень, на котором ведется количественный учет
                                       ) : boolean;        // возвращает True, если ведется количественный учет
  //----------------------------------------------------------------------------
  #doc
  Проверка, является ли счет забалансовым
  #end
  function CheckZabalansSchet(Balans : word) : boolean;

!-------------------------------------------------------------------------------
end;
!-------------------------------------------------------------------------------
VipInterface BuhCheck implements ObjBuhCheck #Licensed_Free;
!-------------------------------------------------------------------------------
#end // _BuhCheck_vih_Included
!-------------------------------------------------------------------------------

