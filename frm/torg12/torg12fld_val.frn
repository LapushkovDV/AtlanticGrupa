.fields
 Ean13ToEanGnivcTTF(GenerateBarCodeEx(coKatSopr, накладная_нрек))
 oPrnSoprFun.GetOrgFullName(накладная_нрек, 1, 1) + oPrnSoprFun.GetOrgFullName(накладная_нрек, 1, 2)
 oPrnSoprFun.GetOrgFields12(накладная_нрек, Грузоотправитель, ГрузоотправительУНН, ГрузоотправительКПП, Грузоотправитель_Адрес, Грузоотправитель_ЮрАдрес, Грузоотправитель_ТЕЛ, 1)
 oPrnSoprFun.GetOrgFieldsBank(Грузоотправитель_СТАРАНА_КОД, Грузоотправитель_БАНК_Имя, Грузоотправитель_БАНК_Счет, Грузоотправитель_БАНК_Мфо, Грузоотправитель_БАНК_Счет_Ркц, Грузоотправитель_БАНК_Ркц)
 Грузоотправитель_ОКПО
#ifdef _TTN_PRIH_
 Склад_Пол
 Получатель_ОКОНХ
#else
 Склад
 Поставщик_ОКОНХ               // KatOrg.OKONH
#end

 oPrnSoprFun.GetOrgFullName(накладная_нрек, 2, 1) + oPrnSoprFun.GetOrgFullName(накладная_нрек, 2, 2)
 oPrnSoprFun.GetOrgFields12(накладная_нрек, Грузополучатель, ГрузополучательУНН, ГрузополучательКПП, Грузополучатель_Адрес, Грузополучатель_ЮрАдрес, Грузополучатель_ТЕЛ, 2)
 oPrnSoprFun.GetOrgFieldsBank(Грузополучатель_СТАРАНА_КОД, Грузополучатель_БАНК_Имя, Грузополучатель_БАНК_Счет, Грузополучатель_БАНК_Мфо, Грузополучатель_БАНК_Счет_Ркц, Грузополучатель_БАНК_Ркц)
 Грузополучатель_ОКПО

 Поставщик_ОКПО
 oPrnSoprFun.GetOrgFullName(накладная_нрек, 0, 1) + oPrnSoprFun.GetOrgFullName(накладная_нрек, 0, 2)
 #AdrFieldsUr12(Поставщик,Поставщик_СТАРАНА_КОД)
 oPrnSoprFun.GetOrgFieldsBank(Поставщик_СТАРАНА_КОД, Поставщик_БАНК_Имя, Поставщик_БАНК_Счет, Поставщик_БАНК_Мфо, Поставщик_БАНК_Счет_Ркц, Поставщик_БАНК_Ркц)

 Плательщик_ОКПО
 oPrnSoprFun.GetOrgFullName(накладная_нрек, 4, 1) + oPrnSoprFun.GetOrgFullName(накладная_нрек, 4, 2)
 #AdrFieldsUr12(Плательщик,Плательщик_СТАРАНА_КОД)
 oPrnSoprFun.GetOrgFieldsBank(Плательщик_СТАРАНА_КОД, Плательщик_БАНК_Имя, Плательщик_БАНК_Счет, Плательщик_БАНК_Мфо, Плательщик_БАНК_Счет_Ркц, Плательщик_БАНК_Ркц)

 if (Номер_Договора <> '', Номер_Договора,
   if (НарядЗаказНомер <> '', НарядЗаказНомер,
     if (Основание <> '', Основание, '')))

 if (Номер_Договора <> '', 'Договор',
   if (НарядЗаказНомер <> '', 'Заказ-наряд',
     if (Основание <> '', 'Счет', '')))

 if (Номер_Договора <> '', DateToStr(Дата_Договора, 'DD.MM.YYYY'),
   if (НарядЗаказНомер <> '', DateToStr(НарядЗаказДата, 'DD.MM.YYYY'),
     if (Основание <> '', DateToStr(ДатаОснования, 'DD.MM.YYYY'), '')))

 номер
 if (Дата=Date(0,0,0),'',DateToStr(Дата,'DD.MM.YYYY'))

 v01.rateval

!oPrnSoprFun.GetwRoundMass2StrTTN
!if (wFillCol10 = 0, oPrnSoprFun.GetwRoundMass2StrTTN, '')

#ifdef _IN_VAL_DOC_
  НакСимвол ВалСимвол НакСимвол ВалСимвол
  НакСимвол ВалСимвол НакСимвол ВалСимвол
#else
  НацСимвол ВалСимвол НацСимвол ВалСимвол
  НацСимвол ВалСимвол НацСимвол ВалСимвол
#end

 номер
 if (Дата=Date(0,0,0),'',DateToStr(Дата,'DD.MM.YYYY'))

!oPrnSoprFun.GetwRoundMass2StrTTN
!if (wFillCol10 = 0, oPrnSoprFun.GetwRoundMass2StrTTN, '')

#ifdef _IN_VAL_DOC_
  НакСимвол ВалСимвол НакСимвол ВалСимвол
  НакСимвол ВалСимвол НакСимвол ВалСимвол
#else
  НацСимвол ВалСимвол НацСимвол ВалСимвол
  НацСимвол ВалСимвол НацСимвол ВалСимвол
#end

 doubleToStr(KolItog, RoundGrm)
 oPrnSoprFun.GetMassaBrTTN (1, MassaBrItog)
 if (wFillCol10 = 0, oPrnSoprFun.GetMassaBrTTN (1, MassaNetItog), '')

 DoubleToStr(Sum1Itog, Cena_Pr0)
 DoubleToStr(Sum1ValItog, Cena_Pr0)
 DoubleToStr(Sum2Itog, Cena_Pr0)
 DoubleToStr(Sum2ValItog, Cena_Pr0)
 DoubleToStr(Sum3Itog, Cena_Pr0)
 DoubleToStr(Sum3ValItog, Cena_Pr0)

!oPrnSoprFun.GetwRoundMass2StrTTN
!if (wFillCol10 = 0, oPrnSoprFun.GetwRoundMass2StrTTN, '')

 номер
 if (Дата=Date(0,0,0),'',DateToStr(Дата,'DD.MM.YYYY'))

#ifdef _IN_VAL_DOC_
  НакСимвол ВалСимвол НакСимвол ВалСимвол
  НакСимвол ВалСимвол НакСимвол ВалСимвол
#else
  НацСимвол ВалСимвол НацСимвол ВалСимвол
  НацСимвол ВалСимвол НацСимвол ВалСимвол
#end
  // Графа 1. Номер п/п
  Nom

  // Графа 2. Наименование МЦ
  Название

  // Графа 3. Код
  КодМЦ

  // Графа 4. Наименование единицы измерения
  oPrnSoprFun.NastrEdIzm(УчЕд, ОтпЕд)

  // Графа 5. Код по ОКЕИ
  oPrnSoprFun.NastrEdIzm(CodeEd, CodeOtpEd)

  // Графа 6. Вид упаковки
  if (ЕД_ИЗМЕРЕНИЯ_ГРУЗОВЫХ_МЕСТ <> '', ЕД_ИЗМЕРЕНИЯ_ГРУЗОВЫХ_МЕСТ, ОтпЕд)

  // Графа 7. Количество в одной упаковке
  KolOneGrM

  // Графа 8. Количество грузовых мест
  KolGrM

  // Графа 9. Масса брутто
  if (oPrnSoprFun.GetDMassaBrTTN(Признак_МЦ, ((МассаМЦ + МассаТарыМЦ) * КолУч)) <> 0, oPrnSoprFun.GetMassaBrTTN(Признак_МЦ, ((МассаМЦ + МассаТарыМЦ) * КолУч)), sGetTune('Doc.SD.AbbrField.MassaZero'))

  // Графа 10. Заполняется в зависимости от настройки
  if (wFillCol10 = 0,
    oPrnSoprFun.GetMassaBrTTN(Признак_МЦ, (МассаМЦ * КолУч)), oPrnSoprFun.NastrEdIzm(DoubleToStr(КолУч, Kol_Pr), DoubleToStr(КолФ, Kol_Pr))) // выводится по настройке

#ifdef _IN_VAL_DOC_
  DoubleToStr(oPrnSoprFun.NastrEdIzmP(спецификацияМЦ_нрек, 0, Признак_МЦ, ЦНакСН, ЦНакБН, ЦНакСН, ЦНакБН, ЦНакСНУч, ЦНакБНУч, ЦНакСНУч, ЦНакБНУч), if (GetPrecisionGroup('brForSoprTTN_RVPrice')<> 5, Cena_PrTTN, Cena_Pr0))
  DoubleToStr(oPrnSoprFun.NastrEdIzmP(спецификацияМЦ_нрек, 0, Признак_МЦ, ЦВалСН, ЦВалБН, ЦВалСН, ЦВалБН, ЦВалСНУч, ЦВалБНУч, ЦВалСНУч, ЦВалБНУч), if (GetPrecisionGroup('brForSoprTTN_RVPrice')<> 5, Cena_PrTTN, Cena_Pr0))
#else
  DoubleToStr(oPrnSoprFun.NastrEdIzmP(спецификацияМЦ_нрек, 0, Признак_МЦ, ЦНацСН, ЦНацБН, ЦНацСН, ЦНацБН, ЦНацСНУч, ЦНацБНУч, ЦНацСНУч, ЦНацБНУч), if (GetPrecisionGroup('brForSoprTTN_Price')<> 5, Cena_PrRTTN, Cena_Pr0))
  DoubleToStr(oPrnSoprFun.NastrEdIzmP(спецификацияМЦ_нрек, 0, Признак_МЦ, ЦВалСН, ЦВалБН, ЦВалСН, ЦВалБН, ЦВалСНУч, ЦВалБНУч, ЦВалСНУч, ЦВалБНУч), if (GetPrecisionGroup('brForSoprTTN_RVPrice')<> 5, Cena_PrTTN, Cena_Pr0))
#end

  DoubleToStr(СтНацБН , Cena_Pr0)
  DoubleToStr(СтВалБН, Cena_Pr0)

  if (ПризнакНДС = word(0), sGetTune('Doc.SD.AbbrField.NoNDSStZero'), if (ставка_первого_налога = 0, sGetTune('Doc.SD.AbbrField.NDSStZero'), DoubleToStr(ставка_первого_налога, NDS_St)))
  if (ПризнакНДС = word(0), sGetTune('Doc.SD.AbbrField.NoNDSSummZero'), if (СтНДСНац = 0, sGetTune('Doc.SD.AbbrField.NDSSummZero'), DoubleToStr(СтНДСНац, Cena_Pr0)))
  if (ПризнакНДС = word(0), sGetTune('Doc.SD.AbbrField.NoNDSSummZero'), if (СтНДСВал = 0, sGetTune('Doc.SD.AbbrField.NDSSummZero'), DoubleToStr(СтНДСВал, Cena_Pr0)))

  DoubleToStr(СтНацСН , Cena_Pr0)
  DoubleToStr(СтВалСН, Cena_Pr0)

  DoubleToStr(KolItog, RoundGrm)

  if (oPrnSoprFun.GetMassaBrTTN_(1, MassaBrItog) <> 0, oPrnSoprFun.GetMassaBrTTN(1, MassaBrItog), sGetTune('Doc.SD.AbbrField.MassaZero'))
  if (wFillCol10 = 0, oPrnSoprFun.GetMassaBrTTN(1, MassaNetItog), '')

  doubleToStr(Sum1Itog, Cena_Pr0)
  doubleToStr(Sum1ValItog, Cena_Pr0)
  doubleToStr(Sum2Itog, Cena_Pr0)
  doubleToStr(Sum2ValItog, Cena_Pr0)
  doubleToStr(Sum3Itog, Cena_Pr0)
  doubleToStr(Sum3ValItog, Cena_Pr0)

  doubleToStr(KolItog, RoundGrm)

  if (oPrnSoprFun.GetMassaBrTTN_(1, MassaBrItog) <> 0, oPrnSoprFun.GetMassaBrTTN(1, MassaBrItog), sGetTune('Doc.SD.AbbrField.MassaZero'))
  if (wFillCol10 = 0, oPrnSoprFun.GetMassaBrTTN (1, MassaNetItog), '')

  doubleToStr(Sum1Itog, Cena_Pr0)
  doubleToStr(Sum1ValItog, Cena_Pr0)
  doubleToStr(Sum2Itog, Cena_Pr0)
  doubleToStr(Sum2ValItog, Cena_Pr0)
  doubleToStr(Sum3Itog, Cena_Pr0)
  doubleToStr(Sum3ValItog, Cena_Pr0)

!droga
  if(noNDS10 > 0, doubleToStr(noNDS10, Cena_Pr0), '')
  if(noNDS10Val > 0, doubleToStr(noNDS10Val, Cena_Pr0), '')
  if(NDS10 > 0, doubleToStr(NDS10, Cena_Pr0), '')
  if(NDS10Val > 0, doubleToStr(NDS10Val, Cena_Pr0), '')
  if(allNDS10 > 0, doubleToStr(allNDS10, Cena_Pr0), '')
  if(allNDS10Val > 0, doubleToStr(allNDS10Val, Cena_Pr0), '')
  if(noNDS18 > 0, doubleToStr(noNDS18, Cena_Pr0), '')
  if(noNDS18Val > 0, doubleToStr(noNDS18Val, Cena_Pr0), '')
  if (NDS18 > 0, doubleToStr(NDS18, Cena_Pr0), '')
  if(NDS18Val > 0, doubleToStr(NDS18Val, Cena_Pr0), '')
  if (allNDS18 > 0, doubleToStr(allNDS18, Cena_Pr0), '')
  if(allNDS18Val > 0, doubleToStr(allNDS18Val, Cena_Pr0), '')
!droga

  doubleToStr(KolItogFull, RoundGrm)

  if (oPrnSoprFun.GetMassaBrTTN_(1, MassaBrItog) <> 0, oPrnSoprFun.GetMassaBrTTN(1, MassaBrItog), sGetTune('Doc.SD.AbbrField.MassaZero'))
  if (wFillCol10 = 0, oPrnSoprFun.GetMassaBrTTN(1, MassaNetItogFull), '')

  doubleToStr(Sum1ItogFull, Cena_Pr0)
  doubleToStr(Sum1ValItogFull, Cena_Pr0)
  doubleToStr(Sum2ItogFull, Cena_Pr0)
  doubleToStr(Sum2ValItogFull, Cena_Pr0)
  doubleToStr(Sum3ItogFull, Cena_Pr0)
  doubleToStr(Sum3ValItogFull, Cena_Pr0)

  DoubleToStr(NomFull, '4\m')

  if (oPrnSoprFun.GetMassaBrTTN_(1, MassaNetItogFull) <> 0, oPrnSoprFun.GetMassaBrTTN(1, MassaNetItogFull), sGetTune('Doc.SD.AbbrField.MassaZero'))

  DoubleToStr(Round(KolItogFull, KolZn), strDr)

  if (MassaNetItogFull = 0, '',
    MassaInWords (MassaNetItogFull, wRoundMass2))

  if (oPrnSoprFun.GetMassaBrTTN(1, MassaBrItogFull) <> 0, oPrnSoprFun.GetMassaBrTTN(1, MassaBrItogFull), sGetTune('Doc.SD.AbbrField.MassaZero'))

  if (MassaBrItogFull = 0, '',
    MassaInWords (MassaBrItogFull, wRoundMass2))

  НомерДовер
  if(LongInt(ДатаДовер) <> LongInt(0), DateToStr(ДатаДовер, 'DD mon YYYY'), '')

#ifdef _IN_VAL_DOC_
  doubleToString(Валюта_нрек, Round(Sum3ItogFull, GetPrecisionGroup('brForSopr_RVPrice')))
#else
  doubleToString(0, Round(Sum3ItogFull, GetPrecisionGroup('brForSopr_Price')))
#end

  oPrnSoprFun.GetOrgFullName(накладная_нрек, 6, 0)

!droga sign
 Osn
 Podp_dol_01
 Podp_fio_01
 Podp_dol_02
 Podp_fio_02
 Podp_dol_03
 Podp_fio_03
 Podp_dol_04
 Podp_fio_04
 Podp_dol_05
 Podp_fio_05
 Podp_dol_06
 Podp_fio_06
 Podp_dol_07
 Podp_fio_07
 Podp_dol_08
 Podp_fio_08
 Podp_dol_09
 Podp_fio_09
 Podp_dol_10
 Podp_fio_10
 Podp_dol_11
 Podp_fio_11
//
  ДовЛицоДолжность + if (ДовЛицоДолжность <> '', ' ', '')
  + ФИОДовер

#ifdef _TTN_PRIH_
  strEmpty strEmpty
  strEmpty strEmpty

#else
  strEmpty strEmpty
  strEmpty strEmpty
#end
 номер
 if (Дата=date(0,0,0),'',DateToStr(Дата,'DD.MM.YYYY'))
 Podp_fio_12
 Osn
 Podp_dol_02
 Podp_fio_02
 Podp_dol_03
 Podp_fio_03
 Podp_dol_04
 Podp_fio_04
 Podp_dol_05
 Podp_fio_05
 Podp_dol_06
 Podp_fio_06
 Podp_dol_07
 Podp_fio_07
 Podp_dol_08
 Podp_fio_08
 Podp_dol_09
 Podp_fio_09
 Podp_dol_10
 Podp_fio_10
 Podp_dol_11
 Podp_fio_11
 Podp_dol_09
 Podp_fio_09
 Спецсимвол
.endfields